<!DOCTYPE html>
<html xmlns:jsf="http://xmlns.jcp.org/jsf" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://java.sun.com/jsf/core">
<head>
<link rel="stylesheet" href="./style.css"></link>

<title>Ateliers</title>
<meta http-equiv="  Content-Type" content="text/html; charset=UTF-8"/>
</head>
<h:body>
  <h2>Liste des ateliers</h2>
  <h:form>
  <nav>
	  <ul>
 		  <li><h:commandLink action="#{navigationControl.doPleineConscience()}" value="PleineConscience"/></li>
		  <li><h:commandLink action="#{navigationControl.doAteliers()}" value="Ateliers"/></li>
		  <li><h:commandLink action="agenda" value="Agenda"/></li>
		  <li><h:commandLink action="#{navigationControl.doQuiSommesNous()}" value="Qui sommes nous ?"/></li>
		  <li><h:commandLink rendered="#{utilisateurControl.getRole() == 2}" action="#{navigationControl.doProfil()}" value="Profil"/></li>
		  <li><h:commandLink rendered="#{utilisateurControl.getRole() == 0}" action="#{navigationControl.doLogin()}" value="Me connecter"/></li>
		  <li><h:commandLink rendered="#{utilisateurControl.getRole() == 0}" action="#{navigationControl.doRegister()}" value="Me crÃ©er un profil"/></li>
		  <li><h:commandLink rendered="#{utilisateurControl.getRole() == 1}" action="#{navigationControl.doIndexAdmin()}" value="Admin"/></li>
		  <li><h:commandLink rendered="#{utilisateurControl.getRole() != 0}" action="#{logoutControl.logout()}" value="Se dÃ©connecter"/></li>
	  </ul>
  </nav>
  </h:form>
  
  <h:dataTable value="#{atelierControl.doFindAll()}" var="atelier">
		<h:column>
			<f:facet name="header">Nom</f:facet>
			<h:form>
				<h:commandLink value="#{atelier.nom}" action="#{activiteControl.doGetDetails(atelier)}" />
			</h:form>
		</h:column>
		<h:column>
			<f:facet name="header">Tarif</f:facet>
			<h:outputText value="#{atelier.tarif}" />
		</h:column>
		
	<h:column rendered="#{utilisateurControl.getRole() != 0}">
		<h:form>
			<h:commandButton value="Participer" action="#{activiteControl.doParticiper(atelier)}" />
		</h:form>
	</h:column>
	</h:dataTable>
  
  
</h:body>
</html>