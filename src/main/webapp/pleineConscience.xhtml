<!DOCTYPE html>
<html xmlns:jsf="http://xmlns.jcp.org/jsf" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://java.sun.com/jsf/core">
<head>
<link rel="stylesheet" href="./style.css"></link>

<title>Pleine conscience</title>
<meta http-equiv="  Content-Type" content="text/html; charset=UTF-8"/>
</head>
<h:body>
  <h2>Liste des Cycles</h2>
  <nav>
	  <ul>
		  <li><h:link outcome="pleineConscience" value="PleineConscience"/></li>
		  <li><h:link outcome="ateliers" value="Ateliers"/></li>
		  <li><a href="">Agenda</a></li>
		  <li><h:link outcome="quiSommesNous" value="Qui sommes nous ?"/></li>
		  <li><h:link outcome="login" value="Me connecter"/></li>
		  <li><h:link outcome="register" value="Me créer un profil"/></li>
	  </ul>
  </nav>
  
  <h3>1. Événements</h3>
  <h:dataTable value="#{activiteControl.doFindAllEvenement()}" var="evenement">
        <h:column>
            <f:facet name="header">Description</f:facet>
            <h:outputText value="#{evenement.description}" />
        </h:column>
   </h:dataTable>
   
   <h3>2. Cours</h3>
   <h:dataTable value="#{activiteControl.doFindAllCours()}" var="cours">
   	<h:column>
   		<h:form>
			<h:commandLink value="#{cours.nom}" action="#{activiteControl.doGetDetails(cours)}" />
    	<h:outputText value=" à #{cours.adresse.ville} par #{cours.instructeur} " />
    	<h:outputText value="#{cours.seances.get(0).dateDebut}" >
    		<f:convertDateTime pattern=" 'du' dd MMMM"/>
    	</h:outputText>
    	<h:outputText value="#{cours.seances.get(cours.seances.size() -1).dateFin}">
    		<f:convertDateTime pattern=" 'au' dd MMMM"/>
    	</h:outputText>
    	<h:outputText value="#{cours.seances.get(0).dateDebut}">
    		<f:convertDateTime pattern=" 'de' HH'h'mm"/>
    	</h:outputText>
    	<h:outputText value="#{cours.seances.get(0).dateFin}">
    		<f:convertDateTime pattern=" 'à' HH'h'mm'. Infos et inscription' "/>
    	</h:outputText>
			<h:commandLink value="ici" action="#{activiteControl.doGetDetails(cours)}" />
		</h:form>
	</h:column>
   </h:dataTable>
   
   <h3>3. Ateliers</h3>
   <h:dataTable value="#{activiteControl.doFindAllAtelier()}" var="atelier">
        <h:column>
        	<h:form>
	            <f:facet name="header">Description</f:facet>
	            <h:commandLink value="#{atelier.description}" action="#{activiteControl.doGetDetails(atelier)}" />
            </h:form>
        </h:column>
        <h:column>
            <f:facet name="header">Tarif</f:facet>
            <h:outputText value="#{atelier.tarif}" />
        </h:column>
        <h:column>
            <f:facet name="header">Séance</f:facet>
            <h:outputText value="#{atelier.seance.dateDebut}">
            	<f:convertDateTime pattern="'le' dd MMMM 'de' HH'h'mm "/>
            </h:outputText>
           <h:outputText value="#{atelier.seance.dateFin}">
            	<f:convertDateTime pattern="'à' HH'h'mm"/>
            </h:outputText>
        </h:column>
   </h:dataTable>
  
</h:body>
</html>